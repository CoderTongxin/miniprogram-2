<!-- 准了么 - 登录页（像素级还原） -->
<view class="page">
  
  <!-- 背景装饰层 -->
  <view class="bg-decor">
    <view class="light-spot light-spot-1"></view>
    <view class="light-spot light-spot-2"></view>
    <view class="light-spot light-spot-3"></view>
    <view class="stars"></view>
  </view>

  <!-- 调试模式：参考图叠加（开发时可开启） -->
  <image wx:if="{{debugOverlay}}" class="debug-overlay" src="/images/login_ucd.png" mode="aspectFit"></image>

  <!-- 主容器卡片 -->
  <view class="main-card">
    
    <!-- 顶部 Logo 区 -->
    <view class="header">
      <image class="logo" src="/images/logo.png" mode="widthFix"></image>
      <text class="subtitle">先申请，再甜甜地批准~</text>
    </view>

    <!-- 卡片1：我的小档案 -->
    <view class="card card-profile">
      <view class="card-title-row">
        <view class="icon-dot"></view>
        <text class="card-title">我的小档案</text>
        <view class="title-decor"></view>
      </view>

      <view class="profile-content" bindtap="onTapProfile">
        <view class="avatar-placeholder">
          <image wx:if="{{isLoggedIn && userInfo.avatarUrl}}" class="avatar-img" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
        </view>
        <view class="profile-info">
          <text class="profile-name">{{isLoggedIn ? userInfo.nickName : '未登录'}}</text>
          <text class="profile-id">微信ID：{{isLoggedIn && userInfo._openid ? userInfo._openid.slice(0,3) + '...' : '---'}}</text>
        </view>
        <view class="profile-right">
          <view class="pill-status">等待登录</view>
          <text class="arrow-icon">›</text>
        </view>
      </view>
    </view>

    <!-- 卡片2：伴侣绑定 -->
    <view class="card card-bind">
      <view class="card-title-row">
        <view class="icon-dot"></view>
        <text class="card-title">伴侣绑定</text>
        <view class="title-decor title-decor-small"></view>
      </view>

      <!-- 右上角小猪插画 -->
      <view class="pig-illustration">
        <view class="pig-heart"></view>
        <view class="pig-sparkle pig-sparkle-1"></view>
        <view class="pig-sparkle pig-sparkle-2"></view>
      </view>

      <view class="bind-content">
        <text class="bind-main-text">{{isBound ? '已绑定伴侣' : '还没有绑定伴侣哦～'}}</text>
        <text class="bind-sub-text">{{isBound ? '可以一起互相"审批"和互动。' : '绑定后才可以互相"审批"和互动。'}}</text>
      </view>

      <!-- 主按钮 -->
      <view class="main-button" bindtap="onTapBind">
        <view class="button-highlight"></view>
        <text class="button-text">{{buttonText}} ›</text>
      </view>

      <!-- 协议区 -->
      <view class="agreement">
        <text class="agreement-text">登录即表示同意 </text>
        <text class="agreement-link" bindtap="onTapUserAgreement">《用户协议》</text>
        <text class="agreement-text"> 和 </text>
        <text class="agreement-link" bindtap="onTapPrivacy">《隐私政策》</text>
      </view>
    </view>

  </view>

</view>
